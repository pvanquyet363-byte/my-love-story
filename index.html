<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <title>G·ª≠i V√¢n Anh</title>

    <link
      href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,500;1,500&family=Dancing+Script:wght@600&display=swap"
      rel="stylesheet"
    />

    <style>
      * {
        box-sizing: border-box;
        -webkit-tap-highlight-color: transparent;
      }

      body {
        margin: 0;
        min-height: 100vh;
        background: linear-gradient(
            135deg,
            rgba(255, 182, 193, 0.9),
            rgba(255, 218, 185, 0.9),
            rgba(255, 228, 225, 0.9)
          ),
          url('https://images.unsplash.com/photo-1518837695005-2083093ee35b?w=800');
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        display: flex;
        justify-content: center;
        align-items: center;
        font-family: 'EB Garamond', serif;
        overflow: hidden;
        padding: 20px;
      }

      /* OVERLAY V√Ä B·ª®C TH∆Ø B·∫ÆT ƒê·∫¶U */
      .overlay {
        position: fixed;
        inset: 0;
        background: linear-gradient(
          135deg,
          rgba(255, 182, 193, 0.9),
          rgba(255, 218, 185, 0.9)
        );
        backdrop-filter: blur(3px);
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        z-index: 999;
        cursor: pointer;
      }

      /* PHONG B√å TH∆Ø */
      .envelope-container {
        position: relative;
        width: 280px;
        height: 200px;
        margin-bottom: 40px;
        filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.2));
      }

      .envelope {
        position: relative;
        width: 100%;
        height: 100%;
        background: linear-gradient(135deg, #fff5f5, #ffeaea);
        border-radius: 8px;
        overflow: hidden;
      }

      .envelope:before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 100px;
        background: linear-gradient(135deg, #ffcccc, #ff9999);
        clip-path: polygon(0 0, 100% 0, 50% 100%);
        z-index: 2;
      }

      .envelope:after {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: repeating-linear-gradient(
          45deg,
          transparent,
          transparent 10px,
          rgba(255, 255, 255, 0.3) 10px,
          rgba(255, 255, 255, 0.3) 20px
        );
      }

      .envelope-flap {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 50%;
        background: linear-gradient(135deg, #ff9999, #ff6666);
        clip-path: polygon(0 0, 100% 0, 50% 100%);
        transform-origin: top;
        animation: envelopeFlap 3s ease-in-out infinite;
        z-index: 3;
      }

      @keyframes envelopeFlap {
        0%,
        100% {
          transform: rotateX(0deg);
        }
        50% {
          transform: rotateX(-15deg);
        }
      }

      .seal {
        position: absolute;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #ff3366, #ff6699);
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 28px;
        color: white;
        z-index: 4;
        animation: sealPulse 2s ease-in-out infinite;
      }

      @keyframes sealPulse {
        0%,
        100% {
          transform: translateX(-50%) scale(1);
        }
        50% {
          transform: translateX(-50%) scale(1.1);
        }
      }

      .letter-preview {
        position: absolute;
        bottom: -20px;
        left: 50%;
        transform: translateX(-50%);
        width: 220px;
        padding: 20px;
        background: linear-gradient(to bottom, #fffef9, #fff8f0);
        border-radius: 8px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.1);
        animation: letterFloat 4s ease-in-out infinite;
      }

      @keyframes letterFloat {
        0%,
        100% {
          transform: translateX(-50%) translateY(0);
        }
        50% {
          transform: translateX(-50%) translateY(-10px);
        }
      }

      .letter-preview-content {
        font-size: 16px;
        color: #8b4513;
        text-align: center;
        line-height: 1.5;
        font-style: italic;
      }

      /* N·ªòI DUNG H∆Ø·ªöNG D·∫™N */
      .overlay-text {
        color: #8b4513;
        font-size: 22px;
        text-align: center;
        margin-top: 30px;
        text-shadow: 0 2px 10px rgba(255, 255, 255, 0.5);
        animation: textPulse 2s infinite;
        background: rgba(255, 255, 255, 0.8);
        padding: 15px 25px;
        border-radius: 50px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
      }

      @keyframes textPulse {
        0%,
        100% {
          opacity: 0.8;
          transform: scale(1);
        }
        50% {
          opacity: 1;
          transform: scale(1.05);
        }
      }

      .tap-hint {
        margin-top: 20px;
        color: #ff3366;
        font-size: 18px;
        font-family: 'Dancing Script', cursive;
        animation: bounce 1.5s infinite;
      }

      @keyframes bounce {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-5px);
        }
      }

      /* B·ª®C TH∆Ø CH√çNH */
      .paper {
        background: linear-gradient(to bottom, #fffef9, #fff8f0);
        width: 100%;
        max-width: 500px;
        padding: 35px 25px;
        border-radius: 20px;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        position: relative;
        animation: float 3s ease-in-out infinite;
        z-index: 2;
        display: none;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0);
        }
        50% {
          transform: translateY(-10px);
        }
      }

      .paper::before {
        content: '';
        position: absolute;
        inset: 15px;
        border: 2px solid rgba(219, 156, 110, 0.3);
        border-radius: 15px;
      }

      .paper-decoration {
        text-align: center;
        font-size: 40px;
        margin-bottom: 15px;
        animation: rotate 4s linear infinite;
      }

      @keyframes rotate {
        to {
          transform: rotate(360deg);
        }
      }

      #text {
        font-size: 24px;
        line-height: 1.9;
        color: #2c1313;
        text-align: center;
        font-style: italic;
        min-height: 280px;
      }

      .signature {
        font-family: 'Dancing Script', cursive;
        text-align: right;
        margin-top: 25px;
        font-size: 32px;
        color: #c2185b;
        opacity: 0;
        transition: opacity 2s;
      }

      /* HI·ªÜU ·ª®NG HOA V√Ä TIM */
      .flower {
        position: absolute;
        top: -50px;
        font-size: 26px;
        animation: fall linear infinite;
        opacity: 0.8;
        z-index: 1;
      }

      @keyframes fall {
        to {
          transform: translateY(120vh) rotate(360deg);
          opacity: 0;
        }
      }

      .heart {
        position: absolute;
        bottom: 0;
        font-size: 14px;
        animation: heart 4s ease-in infinite;
        opacity: 0;
      }

      @keyframes heart {
        0% {
          transform: translateY(0) scale(0);
          opacity: 0;
        }
        10%,
        90% {
          opacity: 1;
        }
        100% {
          transform: translateY(-100vh) scale(1.5);
          opacity: 0;
        }
      }

      /* HI·ªÜU ·ª®NG M·ªû TH∆Ø */
      @keyframes openEnvelope {
        0% {
          transform: scale(1) rotate(0deg);
          opacity: 1;
        }
        50% {
          transform: scale(1.2) rotate(5deg);
          opacity: 0.7;
        }
        100% {
          transform: scale(0.8) rotate(-10deg);
          opacity: 0;
        }
      }

      @keyframes showLetter {
        0% {
          transform: scale(0.5);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @media (max-width: 480px) {
        .envelope-container {
          width: 220px;
          height: 160px;
        }

        .letter-preview {
          width: 180px;
          padding: 15px;
        }

        .letter-preview-content {
          font-size: 14px;
        }

        .overlay-text {
          font-size: 18px;
          padding: 12px 20px;
        }

        #text {
          font-size: 21px;
        }
        .signature {
          font-size: 28px;
        }
      }
    </style>
  </head>

  <body>
    <!-- OVERLAY V·ªöI B·ª®C TH∆Ø -->
    <div id="overlay" class="overlay">
      <div class="envelope-container">
        <div class="envelope">
          <div class="envelope-flap"></div>
          <div class="seal">üíå</div>
          <div class="letter-preview">
            <div class="letter-preview-content">
              "Nh√¢n gian ƒëi l·ªÖ c·∫ßu may,<br />
              Ta ƒëi ch·ªâ ƒë·ªÉ chu·ªëc say..."
            </div>
          </div>
        </div>
      </div>

      <div class="overlay-text">üíù Ch·∫°m ƒë·ªÉ m·ªü th∆∞ üíù</div>
      <div class="tap-hint">(Nh·∫•n v√†o phong b√¨)</div>
    </div>

    <audio id="bgm" loop>
      <source src="./audio.mp3" type="audio/mpeg" />
    </audio>

    <div class="paper">
      <div class="paper-decoration">üå∫</div>
      <div id="text"></div>
      <div id="sig" class="signature">K·∫ª Si T√¨nh</div>
    </div>

    <script>
      const content = `Nh√¢n gian ƒëi l·ªÖ c·∫ßu may,
Ta ƒëi ch·ªâ ƒë·ªÉ chu·ªëc say m·∫Øt n√†ng.

Ch·∫≥ng mong vinh hi·ªÉn gi√†u sang,
Ch·ªâ mong ƒë∆∞·ª£c ch√∫t t√¨nh n√†ng d√†nh cho.

C·∫ßu cho v·∫°n l√Ω b√¨nh y√™n,
C·∫ßu ri√™ng m·ªôt ch·ªØ "T√¨nh" ri√™ng v·ªõi ng∆∞·ªùi...`;

      const textEl = document.getElementById('text');
      const sigEl = document.getElementById('sig');
      const audio = document.getElementById('bgm');
      const overlay = document.getElementById('overlay');
      const paper = document.querySelector('.paper');

      let i = 0;

      function typeText() {
        if (i < content.length) {
          textEl.innerHTML += content[i] === '\n' ? '<br>' : content[i];
          i++;
          setTimeout(typeText, 80);
        } else {
          sigEl.style.opacity = 1;
        }
      }

      // KHI CH·∫†M V√ÄO OVERLAY
      overlay.addEventListener('click', () => {
        // Hi·ªáu ·ª©ng m·ªü phong b√¨
        const envelope = document.querySelector('.envelope-container');
        const overlayText = document.querySelector('.overlay-text');
        const tapHint = document.querySelector('.tap-hint');

        envelope.style.animation = 'openEnvelope 1s ease forwards';
        overlayText.style.animation = 'fadeOut 0.5s ease forwards';
        tapHint.style.animation = 'fadeOut 0.5s ease forwards';

        // ·∫®n overlay sau hi·ªáu ·ª©ng
        setTimeout(() => {
          overlay.style.display = 'none';
          // Hi·ªÉn th·ªã b·ª©c th∆∞ ch√≠nh
          paper.style.display = 'block';
          paper.style.animation = 'showLetter 1s ease forwards';
        }, 1000);

        // B·∫≠t nh·∫°c v·ªõi fade in
        audio.volume = 0;
        audio
          .play()
          .then(() => {
            let v = 0;
            const fade = setInterval(() => {
              v += 0.04;
              audio.volume = Math.min(v, 0.5);
              if (v >= 0.5) clearInterval(fade);
            }, 80);
          })
          .catch((err) => console.log('Audio:', err));

        // B·∫Øt ƒë·∫ßu g√µ ch·ªØ
        setTimeout(typeText, 1500);
      });

      /* HOA R∆†I */
      const flowers = ['üå∏'];
      for (let j = 0; j < 25; j++) {
        const f = document.createElement('div');
        f.className = 'flower';
        f.textContent = flowers[0];
        f.style.left = Math.random() * 100 + 'vw';
        f.style.animationDuration = 8 + Math.random() * 8 + 's';
        f.style.animationDelay = Math.random() * 5 + 's';
        document.body.appendChild(f);
      }

      /* TIM BAY */
      setInterval(() => {
        const h = document.createElement('div');
        h.className = 'heart';
        h.textContent = [][Math.floor(Math.random() * 4)];
        h.style.left = Math.random() * 100 + 'vw';
        document.body.appendChild(h);
        setTimeout(() => h.remove(), 4000);
      }, 900);

      // Th√™m CSS cho fadeOut
      const style = document.createElement('style');
      style.textContent = `
@keyframes fadeOut {
  to { opacity: 0; transform: scale(1.1); }
}
`;
      document.head.appendChild(style);
    </script>
  </body>
</html>

